<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健康管理中心</title>
    <link rel="stylesheet" href="JKstyle.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <!-- 顶部导航 -->
<nav class="top-nav">
    <div class="nav-left">
        <img src="logo.png" alt="Logo" class="logo">
        <h1>生命潮健康管理中心</h1>
    </div>
    <div class="nav-right">
        <span class="user-info">
            <i class="fas fa-user-circle"></i>
            账号： admin
        </span>
        <button class="logout-btn" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i>
            退出
        </button>
    </div>
</nav>

    <div class="container">
        <!-- 左侧菜单 -->
        <aside class="sidebar">
            <div class="menu-group">
                <div class="menu-title">用户管理</div>
                <ul>
                    <li class="active"><i class="fas fa-users"></i> 用户列表</li>
                    <li><i class="fas fa-trash"></i> 已删除列表</li>
                </ul>
            </div>
            <div class="menu-group">
                <div class="menu-title">数据统计</div>
                <ul>
                    <li><i class="fas fa-chart-line"></i> 健康趋势</li>
                    <li><i class="fas fa-chart-pie"></i> 数据分析</li>
                </ul>
            </div>
        </aside>

        <!-- 主要内容区 -->
        <main class="main-content">
            <!-- 搜索和筛选区 -->
            <div class="search-section">
                <div class="search-group">
                    <div class="search-inputs">
                        <div class="input-group">
                            <i class="fas fa-user"></i>
                            <input type="text" placeholder="姓名">
                        </div>
                        <div class="input-group">
                            <i class="fas fa-phone"></i>
                            <input type="text" placeholder="手机号">
                        </div>
                    </div>
                    <div class="search-actions">
                        <select class="filter-select">
                            <option value="">全部方向</option>
                            <option value="糖代谢">糖代谢</option>
                            <option value="亚健康">亚健康</option>
                            <option value="其他">其他</option>
                        </select>
                        <button class="btn-search">
                            <i class="fas fa-search"></i> 搜索
                        </button>
                        <button class="btn-reset">
                            <i class="fas fa-redo"></i> 重置
                        </button>
                    </div>
                </div>
            </div>

            <!-- 工具栏 -->
            <div class="toolbar">
                <div class="left-tools">
                    <button class="btn-add">
                        <i class="fas fa-plus"></i> 新增用户
                    </button>
                    <button class="btn-export">
                        <i class="fas fa-file-export"></i> 导出数据
                    </button>
                    <button class="btn-batch">
                        <i class="fas fa-tags"></i> 批量标签
                    </button>
                </div>
                <div class="right-tools">
                    <span class="selected-count">已选择 0 项</span>
                </div>
            </div>

            <!-- 数据表格 -->
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th><input type="checkbox" class="select-all"></th>
                            <th>姓名</th>
                            <th>性别</th>
                            <th>年龄</th>
                            <th>手机号</th>
                            <th>调理方向</th>
                            <th>完善档案</th>
                            <th>日志列表</th>
                            <th>查看报告</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>张三</td>
                            <td>男</td>
                            <td>30</td>
                            <td>13800000000</td>
                            <td>糖代谢</td>
                            <td><button class="btn-complete" onclick="completeProfile(1)">用户档案</button></td>
                            <td><button class="btn-log">查看日志</button></td>
                            <td>
                                <button class="btn-report" onclick="openReportModal('navigation')">导航报告</button>
                                <button class="btn-report" onclick="openSleepReportModal()">睡眠报告</button>
                            </td>
                            <td><button class="btn-delete">删除</button></td>
                        </tr>
                        <!-- 其他数据行 -->
                    </tbody>
                </table>
            </div>

            <!-- 分页控件 -->
            <div class="pagination">
                <div class="pagination-container">
                    <span>共 24 条</span>
                    <select class="page-size">
                        <option value="10">10条/页</option>
                        <option value="20">20条/页</option>
                        <option value="50">50条/页</option>
                    </select>
                    <div class="page-buttons">
                        <!-- 页码按钮将通过 JavaScript 动态生成 -->
                    </div>
                    <div class="page-jump">
                        前往 <input type="number" min="1" max="3" value="1"> 页
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 报告模态框 -->
    <div id="reportModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">报告列表</h3>
                <button class="close-btn" onclick="closeReportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <table class="report-table">
                    <thead>
                        <tr>
                            <th>测评日期</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="reportList"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- 导航报告列表模态框 -->
    <div id="navigationReportModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>导航报告列表</h3>
                <button class="close-btn" onclick="closeNavigationReportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <table class="report-list-table">
                    <thead>
                        <tr>
                            <th>测评日期</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="navigationReportList"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- 导航报告详细模态框 -->
    <div id="detailedReportModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>导航报告详细信息</h3>
                <button class="close-btn" onclick="closeDetailedReportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="report-details">
                    <h3>报告详细信息</h3>
                    <div class="report-content">
                        <p>报告下载地址: <a href="https://lifetide.oss-cn-beijing.aliyuncs.com/upload/room/data/2025/2/12/601-2405294827-20250212141706891-2104240009.pdf" target="_blank">点击查看报告</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 睡眠报告列表模态框 -->
    <div id="sleepReportModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>睡眠报告列表</h3>
                <button class="close-btn" onclick="closeSleepReportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="sleepReportList"></div>
            </div>
        </div>
    </div>

    <!-- 睡眠报告详细模态框 -->
    <div id="sleepDetailedReportModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>睡眠报告详细信息</h3>
                <button class="close-btn" onclick="closeSleepDetailedReportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="sleepDetailedReportList"></div>
            </div>
        </div>
    </div>

    <script>
        function openReportModal(reportType) {
            const modal = document.getElementById('reportModal');
            const title = document.getElementById('modalTitle');
            const reportList = document.getElementById('reportList');

            title.innerText = reportType === 'navigation' ? '导航报告列表' : '报告列表';
            reportList.innerHTML = '';

            const reports = [
                { date: '2025-02-13 14:56:19' },
                { date: '2025-02-13 11:52:32' },
                { date: '2025-02-13 10:12:12' },
                { date: '2025-02-12 09:41:27' },
                { date: '2025-02-11 11:46:57' },
                { date: '2025-02-11 10:04:00' },
                { date: '2025-02-10 16:18:51' },
                { date: '2025-02-10 15:37:14' }
            ];

            reports.forEach(report => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${report.date}</td>
                    <td><button class="btn-view" onclick="viewReport('${report.date}')">查看</button></td>
                `;
                reportList.appendChild(tr);
            });

            modal.style.display = 'flex';
        }

        function closeReportModal() {
            const modal = document.getElementById('reportModal');
            modal.style.display = 'none';
        }

        function viewReport(date) {
            const detailedModal = document.getElementById('detailedReportModal');
            const detailedReportList = document.getElementById('detailedReportList');

            // 清空之前的内容
            detailedReportList.innerHTML = '';

            // 生成假数据
            const detailedReports = [
                { date: '2025-02-13', content: '导航报告内容1' },
                { date: '2025-02-13', content: '导航报告内容2' },
                { date: '2025-02-12', content: '导航报告内容3' },
                { date: '2025-02-11', content: '导航报告内容4' },
                { date: '2025-02-10', content: '导航报告内容5' }
            ];

            detailedReports.forEach(report => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${report.date}</td>
                    <td>${report.content}</td>
                `;
                detailedReportList.appendChild(tr);
            });

            detailedModal.style.display = 'flex'; // 显示详细报告模态框
        }

        function closeDetailedReportModal() {
            const modal = document.getElementById('detailedReportModal');
            modal.style.display = 'none';
        }

        function closeNavigationReportModal() {
            console.log('关闭导航报告模态框'); // 调试信息
            const modal = document.getElementById('navigationReportModal');
            modal.style.display = 'none'; // 确保模态框关闭
        }
    </script><script src="JKscript.js"></script>

    <button onclick="showSleepReportModal()">查看睡眠报告</button>
</body>
</html>